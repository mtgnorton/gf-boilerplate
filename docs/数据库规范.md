## 命名和设计规范
- 数据库,数据表,数据字段,字符集和排序规则统一使用utf8mb4和utf8mb4_unicode_ci,如果不统一,有可能导致索引失效
- 表名统一使用单数形式
- 下划线命名
- 所有表和字段都必须添加注释
<!-- - 所有有可能超过500w条记录的表,表名以`big_`开头 -->
- 除了datetime,text字段,将其它所有的数据列定义为 NOT NULL 类型
- 关联id字段必须紧跟在主键id字段后面
- 关联表使用mapping结尾,如`role_menu_mapping`
## 字段类型
- id字段统一使用bigint unsigned类型
- 所有枚举类型,全部使用string 类型,提高可读性
- 所有的bool类型,使用bit(1)类型
- 可以使用unsigned int类型的情况下,避免使用int类型,不要使用int(10)类型,使用int类型
    - 关于int(10)
        - int(10) 中的 10 是 显示宽度(display width)，仅影响某些客户端工具（如MySQL命令行）的显示格式
        - 它 不限制 实际存储的数值范围
        - 所有 int 类型（无论后面数字是多少）的存储空间都是 4字节，范围固定为：
            - 有符号 INT: -2,147,483,648 到 2,147,483,647
            - 无符号 INT UNSIGNED: 0 到 4,294,967,295

- 金额类型,使用decimal
    - decimal最大位数为65位
    - 保留位数根据使用的货币确定，应该为最小单位小数位数再加4位,避免舍入误差累积
        - 例如人民币最小单位为分，如11.11元，则在数据库中应该保留4位。遇到无法整除的情况，如10/3，保留6位为3.333333元，在对用户显示时向下取整保留2位，如3.33元。数据库使用decimal(20,6)
        - 虚拟币一般小数位最大18位,则数据库使用decimal(36,22)
    - 在golang读取转换时,直接转换为github.com/shopspring/decimal,否则转换为float64类型,可能存在精度丢失     
## 固定字段
- 如果需要排序,字段名为`sort`,类型为unsigned int,越小越靠前
- 所有业务表必须包含`created_at,updated_at,deleted_at`字段,字段类型为datetime
## 索引
- 唯一索引名为 uk_字段名；
- 普通索引名则为 idx_字段名。
- 联合索引名为 (uk|idx)_字段名1_字段名2_字段名3

## 迭代管理
- 使用goose进行数据库迭代管理,文档地址: https://pressly.github.io/goose/
- 采用混合版本控制方法，使用时间戳和顺序编号。开发过程中创建的迁移使用时间戳，在生产环境中运行顺序版本。
    - 开发环境中使用类似`20250410102555_create_user_table.sql`这种命名方案
    - 生产环境中使用类似`000001_create_user_table.sql`这种命名方案
- 命名规范
    - 创建表:   `create_表名_table`
    - 修改表:   `alter_表名_table`
    - 添加索引: `add_index_表名_字段名`
    - 添加数据: `insert_表名_data`
    - 更新数据: `update_表名_data`
- 所有的迁移文件都采用原子化的方式,即一个迁移文件只能包含一个表或一小组相关表的创建或修改